# 计算机组成原理 第六章作业

1. 考虑一个磁盘驱动器，它有8个面，每个面有512个磁道，每个磁道有64个扇区。扇区大小为1KB。平均寻道时间为8ms，道间移动时间为1.5ms，磁盘转速为3600rpm。读取一个柱面的连续磁道时，磁头无需移动。

   A 磁盘容量是多少？

   B 平均访问时间是多少？

   C 估算传输一个5MB文件所需的时间。假设文件存储于连续柱面上的连续扇区和磁道，起始位置为柱面i的扇区0，磁道0。

   D 突发传输速率是多少？
    a 假设每一个盘面都可以存放数据； b 应该指寻道时间+旋转延迟

   答：

   A.磁盘容量为$ 8 \times 512 \times 64 \times 1024B = 256 MB$

   B.平均访问时间 = 平均寻道时间+平均访问延迟$= 8 + 1000/(2\times(3600/60)) = 16.33ms$

   C.在读取同一磁道上的不同柱面时，不需要进行道间移动，但是需要等待平均旋转延迟；读取不同磁道时，才需要道间移动时间+平均旋转延迟。

   总共需要传输$ 5MB $数据，每个磁道的所有柱面加起来可存放 $64 \times 8=512KB=0.5MB$ 数据，因此需要10 磁道存放所有数据。

   传输一个磁道上的完整数据所需时间为$1000/(3600/60)=16.67ms$

   传输总时间 = 平均寻道时间+9\* (道间移动时间 + 平均旋转延迟 + 数据传输时间) + (平均旋转延迟 + 数据传输时间)

   其中数据传输时间 = 8\* 每条磁道数据传输时间

   = $8ms +(8.33ms+8\times 16.67ms)+ 9\times (1.5ms+8.33ms+8\times 16.67ms) = 1438.167ms$

   D.因为读取一个柱面的连续磁道时，磁头无需移动。

   所以突发传输速率= $(3600/60)\times 64 \times 1024 B = 3.75 MB/s$。

   

2. 为计算机系统设计备份策略。一种选择是使用外置可插入式磁盘，其成本是每个500GB的磁盘驱动器需要150美元。另一个种方法是花2500美元购买一个磁带驱动器，并用50美元购买一个400GB的磁带（依据2008年价格）。通常现场有两套备份介质，交替写入备份，以防在备份时发生系统故障时，前面的备份还是完整的。还有第三套介质保持离线，但它定期与在线介质进行交换。

   A．假设你有1TB（1000GB）的数据要备份，那么磁盘备份系统的成本是多少？

   B 1TB的磁带备份系统的成本多少？

   C 为了使磁带策略更便宜，每个备份必须有多大？

   D 哪种备份策略更适合磁带？
   
   答：
   
   A.一套1TB的磁盘备份系统需要两块 500GB 硬盘，而总共需要三套备份介质，因此成本为 $2\times 3 \times 150 = 900$ 美元
   
   B.磁带备份系统需要一个磁带驱动器，由于需要三套备份，每套备份需要 $1000\div 400\approx 3$ 条磁带，因此总共需要$ 9 $条磁带，总共需要花费$2500 + 9 \times 50 = 2950 $美元
   
   C.假设待备份数据大小为 xGB，那么：（ceil 指向上取整）
   
   磁盘备份系统的成本为 $150\times 3 \times ceil(\dfrac{x}{500})$，磁带备份系统的成本为 $2500 + 50 \times 3 \times ceil(\dfrac{x}{400})$
   
   要让磁带备份系统的价格低于磁盘备份系统，即解不等式：
   $$
   150 \times 3 \times ceil(\dfrac{x}{500}) >= 2500 + 50 \times 3 \times ceil(\dfrac{x}{400})
   $$
   解得 
   $$
   x > 4500 GB
   $$
    所以当$x > 4500 GB$时，磁带备份系统价格低于磁盘。
   
   因此，当备份大小大于 4500GB后，采用磁带备份系统比磁盘备份系统更便宜。
   
   D.离线备份介质更倾向于使用磁带，因为这种备份方式无需频繁进行读写操作，对读写速度也没有过高要求，并且当后续需要增加存储容量时，磁带的成本相对较低。而对于现场交替写入的两套备份介质来说，磁盘则是更合适的选择，因为现场备份的过程中，需要有较快的读写速度来保证备份的效率和及时性。